<!DOCTYPE html>
<html ng-app='App'>
<head>
    <link rel='stylesheet' href='stylesheets/bootstrap-glyphicons.css'/>
    <link rel='stylesheet' href='stylesheets/bootstrap.css'/>
    <link rel='stylesheet' href='stylesheets/screen.css'/>
    <title></title>
</head>
<body data-ng-controller="AppCtrl">

<div class="well">
    <!--<button class="btn" data-ng-click="onSelectAll()">Select all employee</button>-->
    <!--<button class="btn" data-ng-click="onSelectEmployee()">Select employee</button>-->
    <button class="btn" data-ng-click="onGetFonctions()">Get fonction</button>
    <button class="btn" data-ng-click="onGetEmployees()">Get employees</button>
    <button class="btn" data-ng-click="onGetDepartements()">Get departements</button>
    <button class="btn" data-ng-click="onGetEntityGraph()">Get Entity Graph</button>
    <button class="btn" data-ng-click="onSetEntityGraph()">Set Entity Graph</button>
    <button class="btn" data-ng-click="onSaveEntityGraph()">Save Entity Graph</button>
    <!--<button class="btn" data-ng-click="onExportEmployees()">Export Employees</button>-->
</div>

<div class="well">
    <span class="panel-title">Employees</span>
    <button class="btn" data-ng-click="onAddEmployee()">add</button>
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Premon</th>
            <th>Email</th>
            <th>Adresse</th>
            <th>Fonction</th>
            <th>Departement</th>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="employee in employees" data-ng-class="{active: isActive(employee)}" data-ng-click="onSelect(employee)">
            <td>{{employee.id}}</td>
            <td>{{employee.nom}}</td>
            <td>{{employee.prenom}}</td>
            <td>{{employee.email}}</td>
            <td>{{employee.adresse}}</td>
            <td class="text-center">{{employee.fonction_id}}</td>
            <td class="text-center">{{employee.departement_id}}</td>
        </tr>
        </tbody>
    </table>
</div>

<div class="row">
    <div class="col-sm-6">
        <div class="well">
            <span class="panel-title">Departement</span>
            <button class="btn" data-ng-click="onAddDepartement()">add</button>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>Id</th>
                    <th>Nom</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="departement in departements" data-ng-class="{active: isActive(departement)}" data-ng-click="onSelect(departement)">
                    <td>{{departement.id}}</td>
                    <td>{{departement.nom}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="col-sm-6">
        <div class="well">
            <span class="panel-title">Fonction</span>
            <button class="btn" data-ng-click="onAddFonction()">add</button>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>Id</th>
                    <th>Nom</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="fonction in fonctions" data-ng-class="{active: isActive(fonction)}" data-ng-click="onSelect(fonction)">
                    <td>{{fonction.id}}</td>
                    <td>{{fonction.nom}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

<div class="row">
    <div class="col-md-12">
        <div class="well">
            <form novalidate name="form" class="form-horizontal">
                {{activeItem.entityAspect.entityState.name}}
                <div data-ng-repeat="formField in formData">
                    <div form-field ></div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-5" ng-show="activeItem">
                        <button class="btn btn-default"
                                ng-disabled="form.$invalid || isUnchanged(activeItem)"
                                data-ng-click="onSave(activeItem)">Save</button>
                        <button class="btn btn-default"
                                data-ng-click="onCancel(activeItem)">Cancel</button>
                        <button class="btn btn-default"
                                data-ng-click="onDelete(activeItem)">Delete</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="libs/q.min.js"></script>
<script src="libs/jquery-2.0.3.min.js"></script>
<script src="libs/breeze.debug.js"></script>
<script src="libs/angular.min.js"></script>
<!--<script src="libs/angular-sanitize.min.js"></script>-->
<script src="libs/breeze-directives.js"></script>
<!--<script src="libs/angular-route.min.js"></script>-->
<script src="js/app.js"></script>
<script src="js/utils.js"></script>
<script src="js/controllers.js"></script>
<script src="js/entity-model.js"></script>
<script src="js/datacontext.js"></script>
<script src="js/data-provider.js"></script>
<script src="js/directives.js"></script>
<script src="js/filters.js"></script>
<script src="js/services.js"></script>
<!--<script src="js/local-storage.js"></script>-->
<script src="js/storage-provider.js"></script>
<script src="js/breeze-storage.js"></script>
<script src="js/web-service.js"></script>
<script src="js/web-sql.js"></script>
<script src="js/mock-service.js"></script>
<script src="js/mock-service-breeze.js"></script>
</body>
</html>